<!-- Coded by Omar and Youssef-->
<!DOCTYPE html>
{% load static %} 
<html>
    <head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.jquery.min.js"></script>
		<link href="https://cdn.rawgit.com/harvesthq/chosen/gh-pages/chosen.min.css" rel="stylesheet"/>
        <title>Eye tracking visualizations</title>
<!--<link href="{% static 'style/css.css' %}" rel="stylesheet" type="text/css" > ---> 
    </head>
    <body>
        <div class="heading">
				<div class = "Buttons">
					<a href="/"><button class="Home">
						Home
					</button></a>
					<a href="/import"><button class="Upload">
						Upload
					</button></a>
					<a href="/user"><button class="User_comparison">
						User Comparison
					</button></a>
					<a href="/color"><button class="Color_comparison">
						Color Comparison
					</button></a>
					<a href="/manual"><button class="Manual_comparison">
						Manual Comparison
					</button></a>
				</div>
				</head>
				<body>
					<div class="Main_tool">
						<div class="tooltip">
							<span class="Main_title">User Comparison</span>
							?
							<span class="tooltiptext">To use this page, make sure to first select the map you want to inspect more carefully, next select the version of the map, either grayscale or colored. This can be done using the drop down menus at the top of the page. The selection of different users is done at the side of the page, where multiple users can be selected at once. Keep in mind that not every user has looked at each map, so some combinations may result in empty graphs. The visualizations are generated. For the contour plot only one version can be shown at a time, you can switch between different users using the dropdown menu at the top of the visualization. To view a contour plot for two users at the same time use the “Manual comparison” page and select the contour plot twice with the same map and two different users.</span>
						</div>
					</div>
				<span class = "dropdowns">
					Select a stimuli:
					<select onchange="changeStimuli(this.value)">
						<option value="Choose" selected="selected">Choose</option>
						<option value="06_Hamburg_S1.jpg">06_Hamburg_S1.jpg</option>
						<option value="01_Antwerpen_S1.jpg">01_Antwerpen_S1.jpg</option>
						<option value="02_Berlin_S1.jpg">02_Berlin_S1.jpg</option>
					</select>
					Select an user:
					<select id="users" style="width:150px;" data-placeholder="Begin typing a name to filter..." multiple class="chosen-select" name="test">
						<option value=""></option>
						<option value="p1">p1</option>
						<option value="p12">p12</option>
						<option value="p16">p16</option>
					  </select>
					  <button onclick="changeUsers()">Apply Users</button>
					Select the color:
					<select onchange="changeColor(this.value)">
						<option value="Choose" selected="selected">Choose</option>
						<option value="color">Color</option>
						<option value="gray">Gray</option>
					</select>
				</span>
				
					<h1 style="color:yellowgreen;">Gaze plot and Line chart:</h1>
					{{ graphs_bokeh | safe }}
					<h1 style="color:yellowgreen;">Bar chart:</h1>
					{{ graph_bar | safe }}
				
				

<h1 style="color:yellowgreen;">Plotly's Contour map:</h1>
{{ graph_contour | safe }}

    </body>
	{{ script_bokeh | safe }}
	{{ script_bar | safe }}

	<script>
		function changeStimuli(stimuli) 
		{
			var url = new window.URL(document.location);
			url.searchParams.set("stimuli", stimuli);
			window.location.href = url.toString();
			// + '&user=' + 'p1';
		}

		function changeUsers()
		{
			var url = new window.URL(document.location);
			//var selected = [];
			for (var option of document.getElementById('users').options) {
    			if (option.selected) {
					//selected.push(option.value);
					url.searchParams.append("user", option.value);
				}
			}
  			//alert(selected);
			// var url = new window.URL(document.location);
			// url.searchParams.set("user", params);
			window.location.href = url.toString();
		}

		function changeColor(color)
		{
			var url = new window.URL(document.location);
			url.searchParams.set("color", color);
			window.location.href = url.toString();
		}

		$( document ).ready(function() {
			$(".chosen-select").chosen({
  				no_results_text: "Oops, nothing found!"
			})
		});
		
	</script>
	
	<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.0.1.min.js"></script>


<style>
*{
	margin:0;
	padding:0;
}
html, body{
	height:100%;
}

body{
	background-color:#0c0129;
     background-image:url(blue.jpg);
     background-position:center;
     background-size:cover;
     background-blend-mode:soft-light;
 }

.heading{
     width:1500px;
     height:750px;
     margin:auto;
     position:absolute;
     top:0px; bottom:0px; right:0px; left:0px;
}
.Main_tool{
	text-align: center;
}
.Main_title{
	display: inline-block;
	text-align: center;
	color:white;
	font-size:38pt;
	font-family:big john;
}
.Sub_introduction{
	display:block;
	margin-top:15px;
	text-align: center;
	color:white;
	font-size:14pt;
	font-family:serif;
}

.tooltip {
  position: relative;
  display: inline-block;
  border-bottom: 1px dotted black;
  color: white;
  font-size: 30pt;
  text-align: center;
}
.tooltip .tooltiptext {
  visibility: hidden;
  width: 400px;
  background-color: black;
  color: #fff;
  border-radius: 10px;
  padding: 5px 0;
  font-size: 12pt;
  

  /* Position the tooltip */
  position: absolute;
  z-index: 1;
  top: 100%;
  left: 50%;
  margin-left: -60px;
}

.tooltip:hover .tooltiptext {
  visibility: visible;
}
.Buttons{
	text-align: center;
}
.Home{
	text-align: center;
	display: inline-block;
	margin: 20px auto;
	width:180px;
	height:50px;
	border:3px solid white;
	background-color:rgba(255,255,255,0);
	color: white;
	font-family:sans-serif;
	font-weight:bold;
	border-radius: 5px;

	transition: background-color 1000ms, color 1000ms;
}
.Upload{
    text-align: center;
	display: inline-block;
	margin: 20px auto;
	width:180px;
	height:50px;
	border:3px solid white;
	background-color:rgba(255,255,255,0);
	color: white;
	font-family:sans-serif;
	font-weight:bold;
	border-radius: 5px;

	transition: background-color 1000ms, color 1000ms;
}
.User_comparison{
	text-align: center;
	display: inline-block;
	margin: 20px auto;
	width:180px;
	height:50px;
	border:3px solid white;
	background-color:rgba(255,255,255,0);
	color: white;
	font-family:sans-serif;
	font-weight:bold;
	border-radius: 5px;

	transition: background-color 1000ms, color 1000ms;
}
.Color_comparison{
	text-align: center;
	display: inline-block;
	margin: 20px auto;
	width:180px;
	height:50px;
	border:3px solid white;
	background-color:rgba(255,255,255,0);
	color: white;
	font-family:sans-serif;
	font-weight:bold;
	border-radius: 5px;

	transition: background-color 1000ms, color 1000ms;
}
.Manual_comparison{
	text-align: center;
	display: inline-block;
	margin: 20px auto;
	width:180px;
	height:50px;
	border:3px solid white;
	background-color:rgba(255,255,255,0);
	color: white;
	font-family:sans-serif;
	font-weight:bold;
	border-radius: 5px;

	transition: background-color 1000ms, color 1000ms;
}
.dropdowns{
	display:block;
	margin-top:15px;
	text-align: center;
	color:white;
	font-size:14pt;
	font-family:serif;
}
select {
  -webkit-appearance: none;
  -moz-appearance: none;
  -ms-appearance: none;
  appearance: none;
  outline: 0;
  box-shadow: none;
  border: 0 !important;
  background: #2c3e50;
  background-image: none;
}

select::-ms-expand {
  display: none;
}

.select {
  position: relative;
  display: flex;
  width: 20em;
  height: 3em;
  line-height: 3;
  background: #2c3e50;
  overflow: hidden;
  border-radius: .25em;
}
select {
  flex: 1;
  padding: 0 .5em;
  color: #fff;
  cursor: pointer;
}

.select::after {
  content: '\25BC';
  position: absolute;
  top: 0;
  right: 0;
  padding: 0 1em;
  background: #34495e;
  cursor: pointer;
  pointer-events: none;
  -webkit-transition: .25s all ease;
  -o-transition: .25s all ease;
  transition: .25s all ease;
}
.select:hover::after {
  color: #f39c12;
}
.Upload:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
.Home:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
.Upload:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
.User_comparison:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
.Color_comparison:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
.Manual_comparison:hover{
	background-color:rgba(255,255,255,1);
	color:#222;
	cursor:pointer;

	transition: background-color 1000ms, color 1000ms;
}
</style>
</html>